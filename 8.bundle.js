"use strict";(self.webpackChunkgame_core=self.webpackChunkgame_core||[]).push([[8],{571:function(t,e,i){i.r(e),i.d(e,{default:function(){return N}});var s=i(43),n=i.n(s),o=i(30),r=i.n(o),a=i(38),c=i.n(a),h=i(110),u=i.n(h),l=i(97),d=i.n(l),g=i(146),f=i.n(g);function y(){this.guiIdx}function m(){this.children.list}var p=i(32),b=i.n(p),C=i(352),v=i.n(C),F=function(){function t(t){this.textureList=this.initTextureList(t),this.textureKeyList=this.initTextureKeyList(this.textureList),this.animList=this.initAnimList(t),this.animKeyList=this.initAnimKeyList(this.animList)}var e=t.prototype;return e.initTextureList=function(t){return t.textures.list},e.initTextureKeyList=function(t){if(t){var e=[],i=[];for(var s in t){var n=t[s].frames,o=[];for(var r in n)o.push(r);e.push({tKey:s,fKeyList:o}),i.push(s)}return e.unshift({tKey:i,fKeyList:void 0}),e}},e.initAnimList=function(t){return t.anims.anims},e.initAnimKeyList=function(t){if(t){var e=[];for(var i in v()(t))e.push(i);return e}},e.getTextureKeyList=function(){return this.textureKeyList[0].tKey},e.getAnimKeyList=function(){return this.animKeyList},e.getGameObjTextureKey=function(t){return t.texture.key},e.getGameObjFrameName=function(t){return t.texture.frames},e.getGameObjTextureFrames=function(t){var e=void 0;try{e=t.texture.frames}catch(n){}if(e){var i=[];for(var s in e)i.push(s);return i}},e.updateDropdown=function(t,e){t.options=n()(e).call(e,(function(t){return{text:t,value:t}})),t.value=e[0]},t}(),O=function(){function t(t){this.conAlert="_PGI System_ :",this.timeKey="_PGI CntEnd_ ",this.objLength=0,this.srcObj=new F(t),this.scene=t,this.folder,this.debugBox,this.input,this.camera,this.createdList=[],this.newObjectInteractive=[],this.isEnable=!0}var e=t.prototype;return e.create=function(t){this.createInitClassObjs(t)},e.createInitClassObjs=function(t){this.folder=t.folder,this.debugBox=t.debugBox,this.input=t.input,this.camera=t.camera},e.createFocusFolder=function(t){for(var e=t.length,i=0;i<e;i++)this.createFocusFolderTryException(t,t[i]),this.createFocusFolderSetObj(t,t[i])},e.createFocusFolderTryException=function(t,e){"Graphics"!==e.type&&"Container"!==e.type&&"Group"!==e.type?this.createFocusFolderTryExceptionNotContainer(e):"Container"===e.type?this.createFocusFolderTryExceptionContainer(t,e):"Group"===e.type&&this.createFocusFolderTryExceptionGroup(t,e)},e.createFocusFolderTryExceptionContainer=function(t,e){for(var i=e.list,s=i.length,n=0;n<s;n++)this.createFocusFolderTryException(i,i[n]),this.createFocusFolderSetObj(t,i[n])},e.createFocusFolderTryExceptionGroup=function(t,e){for(var i=e.getChildren(),s=i.length,n=0;n<s;n++)this.createFocusFolderTryException(i,i[n]),this.createFocusFolderSetObj(t,i[n])},e.createFocusFolderTryExceptionNotContainer=function(t){try{this.isEnable&&t.input&&!t.input.enabled&&(t.setInteractive(),this.newObjectInteractive.push(t))}catch(e){}},e.setEnable=function(t){void 0===t&&(t=!1),this.newObjectInteractive.forEach((function(e){t?e.setInteractive():e.disableInteractive()})),this.enable=t},e.createFocusFolderSetObj=function(t,e){if(void 0==e.guiIdx){var i=this.folder.getGUIIdx(),s={};s.input=this.input,s.scene=this.scene,s.debugBox=this.debugBox,s.folder=this.folder,s.camera=this.camera,e.guiIdx=i,e.isFocusOnGUI=!1,e.focusTw=void 0,e.GUI_BACK=this.folder.back2Basic.bind(this.folder,i),e.GUI_FOCUS_ONOFF=function(){this.isFocusOnGUI||s.folder.cross2FocusObj(e),s.input.runFocusLogic.call(s.input,s.scene,this,s.debugBox,s.folder,s.camera)},e.GUI_CONSOLE=y,this.chckParentContainer(e,t,i),this.createCustomInDetail(e,t,i)}},e.chckParentContainer=function(t,e,i){var s=this,n=t.parentContainer;n&&(t.GUI_CONTAINER=function(){s.folder.closeThisNopenParentContainer.bind(t,[i,n,s.folder,s.debugBox,s]).call();var e=s.folder.getCustomFoldersInFolder();s.chckObjType(void 0,n.guiIdx,e[n.guiIdx],n)})},e.createCustomInDetail=function(t,e,i){this.folder.add2CustomFolder()},e.chckObjType=function(t,e,i,s){var n;if(!(b()(n=this.createdList).call(n,e)>=0)){this.createdList.push(e);var o=s,r=o.type;switch(this.chckStartSorting(e),this.createBackFunc(e,i,o),this.createFocusToggle(i,o),this.createConsoleFunc(e,i,o),this.createContainerFunc(e,i,o),this.createCommonFront(i,o),this.chckNCreatePhysicsType(i,o),r){case"Container":this.createContainer(e,i,o);break;case"Image":this.createListImage(e,i,o,this.srcObj);break;case"Sprite":this.createListSprite(e,i,o,this.srcObj);break;case"Text":this.createListText(e,i,o);break;case"TileSprite":this.createTileSprite(e,i,o);break;case"ParticleEmitterManager":this.createParticleEmitterManager(e,i,o);break;case"StaticTilemapLayer":this.createTilemapLayer(e,i,o);break;case"Spine":this.createSpine(e,i,o);break;case"Group":this.createGroup(e,i,o);break;case"Graphics":this.createGraphics(e,i,o);break;default:this.chckEndSorting(e)}}},e.chckStartSorting=function(t){},e.chckEndSorting=function(t){},e.createBackFunc=function(t,e,i){e.addButton({title:"GUI_BACK"}).on("click",i.GUI_BACK)},e.createFocusToggle=function(t,e){"Graphics"!==e.type&&t.addButton({title:"GUI_FOCUS_ONOFF"}).on("click",e.GUI_FOCUS_ONOFF)},e.createConsoleFunc=function(t,e,i){try{e.addButton({title:"GUI_CONSOLE"}).on("click",i.GUI_CONSOLE)}catch(s){}},e.createContainerFunc=function(t,e,i){i.GUI_CONTAINER&&e.addButton({title:"GUI_CONTAINER"}).on("click",i.GUI_CONTAINER)},e.createCommonFront=function(t,e){this.tryCatch(t,e,"GUIIdx"),this.tryCatch(t,e,"name")},e.chckNCreatePhysicsType=function(t,e){if(!0===!!e.body){var i=e.type,s=void 0;switch(typeof e.body.type){case"string":s={type:"Matter "+i},t.addInput(s,"type"),this.createCommonBack(t,e),this.createMatterBody(t,e);break;case"number":s={type:"Impact "+i},t.addInput(s,"type"),this.createCommonBack(t,e);break;default:s={type:"Arcade "+i},t.addInput(s,"type"),this.createCommonBack(t,e),this.createArcadeBody(t,e)}}else this.tryCatch(t,e,"type"),this.createCommonBack(t,e)},e.createCommonBack=function(t,e){var i=x(e,"x","y","position");this.tryCatch(t,i,"position","listen");var s=x(e,"width","height","size");this.tryCatch(t,s,"size","listen");var n=x(e,"scaleX","scaleY","scale");if(this.tryCatch(t,n,"scale","listen"),e.displayWidth&&e.displayHeight){var o=x(e,"displayWidth","displayHeight","displaySize");this.tryCatch(t,o,"displaySize","listen")}var r=x(e,"originX","originY","origin");this.tryCatch(t,r,"origin","listen"),this.tryCatch(t,e,"alpha","listen"),this.tryCatch(t,e,"depth"),this.tryCatch(t,e,"angle","listen"),this.tryCatch(t,e,"rotation","listen"),this.tryCatch(t,e,"visible"),this.tryCatch(t,e,"active")},e.createContainer=function(t,e,i){var s=this;this.tryCatch(e,i,"exclusive"),this.tryCatch(e,i,"position","listen"),this.tryCatch(e,i,"scrollFactorX","listen"),this.tryCatch(e,i,"scrollFactorY","listen"),this.tryCatch(e,i,"z"),this.tryCatch(e,i,"w");var n=e.addFolder({title:"list"});n.addMonitor(i.list,"length");for(var o=function(){var t=i.list[r],e={GUIIdx:t.guiIdx,name:t.name,type:t.type,texture:t.texture&&t.texture.key?t.texture.key:"",frame:t.frame&&t.frame.name?t.frame.name:"",GUI_GO_2_DETAIL:function(){s.folder.cross2FocusObj(t)}},o=n.addFolder({title:"child "+r});o.addMonitor(e,"GUIIdx"),o.addMonitor(e,"name"),o.addMonitor(e,"type"),o.addMonitor(e,"texture"),o.addMonitor(e,"frame"),o.addButton({title:"GUI_GO_TO_DETAIL"}).on("click",e.GUI_GO_2_DETAIL)},r=0;r<i.list.length;r++)o();this.chckEndSorting(t)},e.createListImage=function(t,e,i,s){this.createTextureNFrame(t,e,i,s),this.chckEndSorting(t)},e.createListSprite=function(t,e,i,s){this.tryCatch(e,i.texture,"originX"),this.tryCatch(e,i.texture,"originY"),this.createTextureNFrame(t,e,i,s),this.createAnims(t,e,i),this.chckEndSorting(t)},e.createListText=function(t,e,i){e.addInput(i,"text");var s=e.addFolder({title:"style"});this.tryCatch(s,i.style,"align"),this.tryCatch(s,i.style,"fontFamily"),this.tryCatch(s,i.style,"fontStyle"),this.tryCatch(s,i.style,"fontSize","listen"),this.tryCatch(s,i.style,"color"),this.tryCatch(s,i.style,"backgroundColor"),this.tryCatch(s,i.style,"stroke"),this.tryCatch(s,i.style,"strokeThickness"),this.tryCatch(s,i.style,"shadowStroke"),this.tryCatch(s,i.style,"shadowColor"),this.tryCatch(s,i.style,"shadowBlur"),this.chckEndSorting(t)},e.createGraphics=function(t,e,i){this.tryCatch(e,i,"alpha"),this.tryCatch(e,i,"scale"),this.tryCatch(e,i,"angle"),this.tryCatch(e,i,"rotation"),this.tryCatch(e,i,"visible"),this.tryCatch(e,i,"defaultFillColor"),this.tryCatch(e,i,"defaultFillAlpha"),this.tryCatch(e,i,"defaultStrokeWidth"),this.tryCatch(e,i,"defaultStrokeColor"),this.tryCatch(e,i,"defaultStrokeAlpha"),this.tryCatch(e,i,"_lineWidth"),this.tryCatch(e,i,"active"),this.chckEndSorting(t)},e.createTileSprite=function(t,e,i){this.tryCatch(e,i,"tilePositionX","listen"),this.tryCatch(e,i,"tilePositionY","listen"),this.tryCatch(e,i,"tileScaleX","listen"),this.tryCatch(e,i,"tileScaleY","listen"),this.tryCatch(e,i,"tabIndex"),this.tryCatch(e,i,"ignoreDestroy"),this.tryCatch(e,i,"potWidth"),this.tryCatch(e,i,"potHeight"),this.tryCatch(e,i,"scrollFactorX"),this.tryCatch(e,i,"scrollFactorY"),this.tryCatch(e,i,"potHeight"),this.chckEndSorting(t)},e.createParticleEmitterManager=function(t,e,i){this.chckEndSorting(t)},e.createTilemapLayer=function(t,e,i){this.chckEndSorting(t)},e.createSpine=function(t,e,i){this.chckEndSorting(t)},e.createGroup=function(t,e,i){this.chckEndSorting(t)},e.createMatterBody=function(t,e){var i=t.addFolder({title:"body"});this.tryCatch(i,e.body,"id"),this.tryCatch(i,e.body,"type"),this.tryCatch(i,e.body,"label"),this.createAllThePropertyOfObj(i,"position",e.body),this.createAllThePropertyOfObj(i,"force",e.body),this.tryCatch(i,e.body,"speed","listen"),this.tryCatch(i,e.body,"angularSpeed","listen"),this.tryCatch(i,e.body,"angularVelocity","listen"),this.tryCatch(i,e.body,"isSensor"),this.tryCatch(i,e.body,"isStatic"),this.tryCatch(i,e.body,"isSleeping"),this.tryCatch(i,e.body,"sleepThreshold"),this.tryCatch(i,e.body,"density"),this.tryCatch(i,e.body,"restitution"),this.tryCatch(i,e.body,"frictionStatic"),this.tryCatch(i,e.body,"frictionAir"),this.tryCatch(i,e.body,"slop"),this.tryCatch(i,e.body,"mass"),this.tryCatch(i,e.body,"area"),this.tryCatch(i,e.body,"inertia"),this.tryCatch(i,e.body,"inverseInertia"),this.tryCatch(i,e.body,"chamfer"),this.tryCatch(i,e.body,"ignoreGravity"),this.tryCatch(i,e.body,"ignorePointer"),this.tryCatch(i,e.body,"ignoreDestroy")},e.createArcadeBody=function(t,e){var i=t.addFolder({title:"body"});this.tryCatch(i,e.body,"debugShowBody"),this.tryCatch(i,e.body,"debugShowVelocity"),this.tryCatch(i,e.body,"debugBodyColor"),this.tryCatch(i,e.body,"onWorldBounds"),this.tryCatch(i,e.body,"allowDrag"),this.tryCatch(i,e.body,"allowGravity"),this.tryCatch(i,e.body,"allowRotation"),this.tryCatch(i,e.body,"onCollide"),this.tryCatch(i,e.body,"onOverlap"),this.tryCatch(i,e.body,"enable"),this.tryCatch(i,e.body,"isCircle"),this.createAllThePropertyOfObj(i,"offset",e.body),this.createAllThePropertyOfObj(i,"position",e.body),this.tryCatch(i,e.body,"sourceWidth","listen"),this.tryCatch(i,e.body,"sourceHeight","listen"),this.tryCatch(i,e.body,"halfWidth","listen"),this.tryCatch(i,e.body,"halfHeight","listen"),this.tryCatch(i,e.body,"angularVelocity","listen"),this.tryCatch(i,e.body,"angularAcceleration","listen"),this.tryCatch(i,e.body,"angularDrag"),this.tryCatch(i,e.body,"maxAngular"),this.tryCatch(i,e.body,"mass"),this.tryCatch(i,e.body,"angle"),this.tryCatch(i,e.body,"speed"),this.tryCatch(i,e.body,"facing"),this.tryCatch(i,e.body,"immovable"),this.tryCatch(i,e.body,"moves"),this.tryCatch(i,e.body,"collideWorldBounds"),this.tryCatch(i,e.body,"syncBounds")},e.createTextureNFrame=function(t,e,i,s){var o,r,a=s.getGameObjTextureKey(i),c={},h={},u=void 0,l=void 0;c.textureList=s.getTextureKeyList(),c.setTexture=function(){var t=u.value,e=i.width,n=i.height,o=i.scaleX,r=i.scaleY;i.setTexture(t),i.setDisplaySize(e*o,n*r);var a=s.getGameObjTextureFrames(i);s.updateDropdown(l,a)},h.frameList=s.getGameObjTextureFrames(i),h.setFrame=function(){var t=l.value;i.setFrame(t)},u=e.addBlade({view:"list",label:"textureList",options:n()(o=c.textureList).call(o,(function(t){return{text:t,value:t}})),value:a}),e.addButton({title:"setTexture"}).on("click",c.setTexture),l=e.addBlade({view:"list",label:"frameList",options:n()(r=h.frameList).call(r,(function(t){return{text:t,value:t}})),value:h.frameList[0]}),e.addButton({title:"setFrame"}).on("click",h.setFrame)},e.createAnims=function(t,e,i){var s,o=void 0,r={};r.playList=this.srcObj.getAnimKeyList(),r.play=function(){var t=o.getValue(),e=i.width,s=i.height,n=i.scaleX,r=i.scaleY;i.anims.play(t),i.setDisplaySize(e*n,s*r)};var a=e.addFolder({title:"anims"});o=a.addBlade({view:"list",label:"playList",options:n()(s=r.playList).call(s,(function(t){return{text:t,value:t}})),value:r.playList[0]}),a.addButton({title:"play"}).on("click",r.play),this.tryCatch(a,i.anims,"stop"),this.tryCatch(a,i.anims,"pause"),this.tryCatch(a,i.anims,"resume"),this.tryCatch(a,i.anims,"isPlaying"),this.tryCatch(a,i.anims,"currentAnim"),this.tryCatch(a,i.anims,"currentFrame"),this.tryCatch(a,i.anims,"nextAnim"),this.tryCatch(a,i.anims,"duration"),this.tryCatch(a,i.anims,"msPerFrame"),this.tryCatch(a,i.anims,"skipMissedFrames"),this.tryCatch(a,i.anims,"_delay"),this.tryCatch(a,i.anims,"_repeat"),this.tryCatch(a,i.anims,"_repeatDelay"),this.tryCatch(a,i.anims,"_yoyo"),this.tryCatch(a,i.anims,"forward"),this.tryCatch(a,i.anims,"_reverse"),this.tryCatch(a,i.anims,"accumulator"),this.tryCatch(a,i.anims,"nextTick"),this.tryCatch(a,i.anims,"repeatCounter"),this.tryCatch(a,i.anims,"pendingRepeat"),this.tryCatch(a,i.anims,"_paused"),this.tryCatch(a,i.anims,"_wasPlaying"),this.tryCatch(a,i.anims,"_pendingStop")},e.createAllThePropertyOfObj=function(t,e,i){var s=t.addFolder({title:e}),n=i[e];for(var o in n)this.tryCatch(s,i,o);return s},e.tryCatch=function(t,e,i,s,n){try{t.addInput(e,i)}catch(o){}},e.setTextureProperty=function(t){var e=void 0;switch(t.type){case"Image":case"Sprite":e=t.texture.key;break;case"Text":e=t.text;break;case"TileSprite":e=t.displayTexture.key}return e},t}(),x=function(t,e,i,s){var n;return(n={})[s]={get x(){return t[e]},set x(i){t[e]=i},get y(){return t[i]},set y(e){t[i]=e}},n},S=i(29),I=i.n(S),k=i(26),E=i.n(k),D=function(){function t(t,e){this.GUI,this.typeSort=t,this.config=this.initConfig(),this.basic=this.initBasic(),this.custom=this.initCustom(),this.autoUpdate=e}var e=t.prototype;return e.create=function(t,e){this._scene=t,this.GUI=e,this.createBasic(t.scene.key),this.createCustom()},e.initConfig=function(){var t={initFolderCnt:0,openBasicDefault:!0,openCustomDefault:!1,tmpStorage:{Obj:{over:{guiIdx:0,guiAlpha:0,guiTint:void 0},focus:{guiIdx:0,guiAlpha:0,guiTint:void 0}}}};return t},e.initBasic=function(){var t={folder:void 0,list:[]};return t},e.initCustom=function(){var t={folder:void 0,list:[],isDetailedOpen:!1};return t},e.setDetailedStatus=function(t){this.custom.folder.isDetailedOpen=t},e.getDetailedStatus=function(){return this.custom.folder.isDetailedOpen},e.createBasic=function(){this.basic.folder=this.GUI},e.createCustom=function(){this.custom.folder=this.GUI},e.push2FolderList=function(t,e){"basic"===e?this.basic.list.push(t):"custom"===e?this.custom.list.push(t):e?this.basic.list.push(t):this.custom.list.push(t)},e.getGUIIdx=function(){return this.config.initFolderCnt},e.add2CustomFolder=function(){var t=this.custom.folder.addFolder({title:"Obj "+this.config.initFolderCnt});return t.hidden=!0,this.push2FolderList(t,"custom"),this.config.initFolderCnt++,t},e.chckOpenAllList=function(){this.chckOpenBasicList(),this.chckOpenCustomList()},e.chckOpenBasicList=function(){if(this.config.openBasicDefault){var t=this.basic.list.length;this.openFolder(this.basic.folder);for(var e=0;e<t;e++)this.openFolder(this.basic.list[e])}},e.chckOpenCustomList=function(){if(this.config.openCustomDefault)this.openFolder(this.custom.folder);else for(var t=0;t<this.config.initFolderCnt;t++)this.closeFolder(this.custom.list[t])},e.openBigFolder=function(){for(var t=0;t<6;t++)this.GUI.children[t].hidden=!1},e.closeBigFolder=function(){for(var t=0;t<6;t++)this.GUI.children[t].hidden=!0},e.openFolder=function(t){var e;b()(e=this.basic.list).call(e,t)<0&&this.closeBigFolder(),t.hidden=!1},e.closeFolder=function(t){t.hidden=!0},e.openChildrenFolder=function(t){t.hidden=!1},e.closeChildrenFolder=function(t){t.hidden=!0,this.setFolderChildrenDisplay(t,"none")},e.setFolderDisplay=function(t,e){t.domElement.style.display={none:"none",default:""}[e]},e.setFolderChildrenDisplay=function(t,e){for(var i={none:"none",default:""},s=I()(t.__folders).length,n=0;n<s;n++)t.__folders[String(n)].domElement.style=i[e]},e.setBasicOverFolder=function(t){var e;if(t){if(void 0==t.guiIdx&&this.autoUpdate){var i,s=this._scene.children;this.objList=E()(i=s.list).call(i,this._scene.sys.updateList._active),this.typeSort.createFocusFolder(this.objList)}var n=this.typeSort.setTextureProperty(t);(e=this.basic.list[1].children[0].controller_.binding.target.obj_).GUIIdx=t.guiIdx,e.name=t.name,e.type=t.type,e.texture=n}else(e=this.basic.list[1].children[0].controller_.binding.target.obj_).GUIIdx="NONE",e.name="NONE",e.type="NONE",e.texture="NONE"},e.setBasicFocusFolder=function(t){var e=this.basic.list[2].children[0].controller_.binding.target.obj_;if(t){var i=this.typeSort.setTextureProperty(t);this.openFolder(this.basic.list[2]),e.GUIIdx=t.guiIdx,e.name=t.name,e.type=t.type,e.texture=i}else this.closeFolder(this.basic.list[2]),e.GUIIdx="NONE",e.name="NONE",e.type="NONE",e.texture="NONE"},e.cross2FocusObj=function(t){if(t){var e=this.custom.list;for(var i in e)this.closeFolder(e[i]);this.closeBigFolder(),this.openFolder(e[t.guiIdx]),this.typeSort.chckObjType(void 0,t.guiIdx,e[t.guiIdx],t),this.setDetailedStatus(!0)}},e.back2Basic=function(t){this.closeFolder(this.custom.list[t]),this.setDetailedStatus(!1),this.openBigFolder()},e.closeThisNopenParentContainer=function(t){var e=t[0],i=t[1],s=t[2],n=t[3],o=i.guiIdx,r=s.getCustomFoldersInFolder();s.closeFolder(r[e]),s.setBasicFocusFolder(i),s.openFolder(r[o]),n.clearFocus(this),n.setClearNFocus(i),n.setFocusPerformance(i,s)},e.getBasic=function(){return this.basic},e.getCustom=function(){return this.custom},e.getBasicFolder=function(){return this.basic.folder},e.getCustomFolder=function(){return this.custom.folder},e.getBasicList=function(){return this.basic.list},e.getCustomList=function(){return this.custom.list},e.getCustomFoldersInFolder=function(){return this.custom.list},e.getTmpStorageOver=function(){return this.config.tmpStorage.Obj.over},e.getTmpStorageFocus=function(){return this.config.tmpStorage.Obj.focus},t}(),G=function(){function t(){this.scene,this.camera,this.graphics,this.list,this.gameBound=this.initGameBound(),this.over=this.initOver(),this.focus=this.initFocus()}var e=t.prototype;return e.create=function(t,e){this.scene=t,this.camera=e,this.createSetting(t),this.createOver(Phaser.Geom.Rectangle),this.createFocus(Phaser.Geom.Rectangle)},e.update=function(t,e){this.clearDebugBox(),this.updateSizeBound(),this.updateChaseOver(),this.updateChaseFocus()},e.initGameBound=function(){var t={};return t.self,t.style={stroke:3,color:8365539},t},e.initOver=function(){var t={gameObj:void 0,self:void 0,style:{stroke:3,color:65280}};return t},e.initFocus=function(){var t={gameObj:void 0,self:void 0,style:{stroke:4,color:16711680}};return t},e.createSetting=function(t){this.graphics=t.add.graphics(),this.graphics.setDepth(99999999),t.add.existing(this.graphics)},e.createOver=function(t){this.over.self=new t(0,0,1,1)},e.createFocus=function(t){this.focus.self=new t(0,0,1,1)},e.updateSizeBound=function(){(this.camera.getIsDebugCamBound()||this.camera.getIsDraggable())&&(this.graphics.lineStyle(this.gameBound.style.stroke,this.gameBound.style.color),this.graphics.strokeRectShape({x:0,y:0,width:this.camera.getSize().w,height:this.camera.getSize().h}))},e.updateChaseOver=function(){this.over.self&&this.over.gameObj&&this.setOver(this.over.gameObj)},e.updateChaseFocus=function(){this.focus.self&&this.focus.gameObj&&this.setFocus(this.focus.gameObj)},e.getOverGameObj=function(){return this.over.gameObj},e.getFocusGameObj=function(){return this.focus.gameObj},e.setOverGameObj=function(t){this.over.gameObj=t},e.setFocusGameObj=function(t){this.focus.gameObj=t},e.setOver=function(t){this.over.gameObj=t,this.setDebugBox(this.over,t)},e.setClearNFocus=function(t){this.clearDebugBox(),this.setFocus(t)},e.setDebugBox=function(t,e){if(this.graphics.lineStyle(t.style.stroke,t.style.color),e.getBounds)this.graphics.strokeRectShape(e.getBounds());else if(this.validateDrawAbleObject(e)){var i=this.getWorldPosition(e),s=i.x,n=i.y,o=e.width,r=e.height,a=e.originX,c=void 0===a?.5:a,h=e.originY,u=void 0===h?.5:h,l=e.scaleX,d=void 0===l?1:l,g=e.scaleY,f=void 0===g?1:g;this.graphics.strokeRectShape({x:s-o*c,y:n-r*u,width:o*d,height:r*f})}},e.validateDrawAbleObject=function(t){return void 0!=t.x&&void 0!=t.y&&void 0!=t.width&&void 0!=t.height},e.getWorldPosition=function(t){for(var e=t.x,i=t.y,s=t.parentContainer;s;)e+=s.x,i+=s.y,s=s.parentContainer;return{x:e,y:i}},e.setFocus=function(t){t&&(t.isFocusOnGUI=!0,this.focus.gameObj=t,this.setDebugBox(this.focus,t))},e.setFocusPerformance=function(t,e){var i=this,s={from:1,to:.5,isTint:!1};t.setTint&&(s.from=255,s.to=120,s.isTint=!0),t.focusTw=this.scene.tweens.addCounter({from:s.from,to:s.to,duration:500,ease:"Sine.easeIn",repeat:-1,yoyo:!0,onStart:function(){i.setStoreConfig("BASIC",t,e)},onUpdate:function(){if(t.isFocusOnGUI)if(s.isTint){var e=~~t.focusTw.getValue();t.setTint(Phaser.Display.Color.GetColor(e,e,e))}else{var i=t.focusTw.getValue();t.setAlpha(i)}else s.isTint?t.clearTint():t.setAlpha(1),t.focusTw.remove()}})},e.clearFocus=function(t){var e=void 0;(e=t||this.getFocusGameObj())&&(e.setAlpha(1),e.isFocusOnGUI=!1)},e.setPointerOver=function(t){t.setAlpha(.7)},e.clearPointerOver=function(t){t.isTinted&&t.clearTint(),t.setAlpha(1)},e.setStoreConfig=function(t,e,i){var s=void 0;"BASIC"===t?s=i.getTmpStorageOver():"CUSTOM"===t&&(s=i.getTmpStorageFocus()),s.guiIdx=e.guiIdx;try{s.guiAlpha=e.alpha}catch(n){}try{s.guiTint=e.tint}catch(n){}},e.clearStoreConfig=function(t){},e.chckParentContainer=function(t){return t.parentContainer},e.clearDebugBox=function(){this.graphics.clear()},e.clearOverGameObj=function(){this.over.gameObj=void 0,this.clearDebugBox(),this.focus.gameObj&&this.setDebugBox(this.focus,this.focus.gameObj)},e.clearFocusGameObj=function(){this.focus.gameObj=void 0,this.clearDebugBox()},e.clear=function(){this.clearFocus(),this.clearFocusGameObj(),this.clearOverGameObj()},t}(),j=function(){function t(){this.scene,this.size={w:0,h:0},this.cursorKey,this.mainCamera,this.wheelValue=150,this.followConfig={x:0,y:0,zoom:1},this.isFollowing=!1,this.dragConfig={x:0,y:0,scrollX:0,scrollY:0},this.isDraggable=!1,this.isDebugCamBound=!1,this.defaultCamera}var e=t.prototype;return e.create=function(t,e){this.scene=t,this.createSize(t),this.createCursorKey(t),this.createMainCamera(t),this.createCameraEvent(t),this.createFollowEvent(t,e)},e.update=function(){this.updateDrag()},e.getSize=function(){return this.size},e.getCursorKey=function(){return this.cursorKey},e.setFollowConfig=function(){this.followConfig.x=this.mainCamera.midPoint.x,this.followConfig.y=this.mainCamera.midPoint.y,this.followConfig.zoom=this.mainCamera.zoom},e.getPrevFollowConfig=function(){return this.followConfig},e.setIsFollowing=function(t){this.isFollowing=t},e.getIsFollowing=function(){return this.isFollowing},e.setDragStartConfig=function(){this.mainCamera.scrollX=this.dragConfig.scrollX,this.mainCamera.scrollY=this.dragConfig.scrollY,this.dragConfig.x=this.scene.input.x,this.dragConfig.y=this.scene.input.y},e.setDragEndConfig=function(){this.dragConfig.scrollX=this.mainCamera.scrollX,this.dragConfig.scrollY=this.mainCamera.scrollY},e.getIsDraggable=function(){return this.isDraggable},e.setIsDraggable=function(t){this.isDraggable=t},e.getIsDebugCamBound=function(){return this.isDebugCamBound},e.setIsDebugCamBound=function(t){this.isDebugCamBound=t},e.createSize=function(t){this.size.w=t.game.config.width,this.size.h=t.game.config.height},e.createCursorKey=function(t){this.cursorKey=t.input.keyboard.createCursorKeys()},e.createMainCamera=function(t){this.mainCamera=t.cameras.main,this.defaultCamera={scrollX:this.mainCamera.scrollX,scrollY:this.mainCamera.scrollY,zoom:this.mainCamera.zoom}},e.createCameraEvent=function(t){var e=this;t.input.on("wheel",(function(t,i,s,n,o){if(e.chckCmdShiftKeyDown()){var r=e.mainCamera.zoom,a=n/(10*e.wheelValue)*-1,c=r+a;c<=.1&&a<0||e.mainCamera.zoomTo(c,100),e.setIsDebugCamBound(!0),setTimeout((function(){c==e.mainCamera.zoom&&e.setIsDebugCamBound(!1)}),300)}})),t.input.on("pointerdown",(function(t,i,s,n){e.chckCmdShiftKeyDown()&&t.rightButtonDown()&&(e.setDragStartConfig(),e.setIsDraggable(!0))})),t.input.on("pointerup",(function(t,i,s,n){e.setIsDraggable(!1),e.chckCmdShiftKeyDown()&&t.rightButtonReleased()&&e.setDragEndConfig()})),t.input.keyboard.on("keyup-S",(function(t,i){e.chckCmdShiftKeyDown()&&e.set2defaultZoom()}))},e.set2defaultZoom=function(){this.mainCamera.zoomTo(this.defaultCamera.zoom,0),this.mainCamera.scrollX=this.defaultCamera.scrollX,this.mainCamera.scrollY=this.defaultCamera.scrollY,this.dragConfig.scrollX=this.defaultCamera.scrollX,this.dragConfig.scrollY=this.defaultCamera.scrollY},e.createFollowEvent=function(t,e){var i=this;t.input.keyboard.on("keyup-A",(function(t,s){i.tmpFocusGameObj=e.getFocusGameObj(),i.chckCmdShiftKeyDown()&&i.tmpFocusGameObj&&(i.isFollowing?i.setFollowStop():(i.setIsFollowing(!0),i.setFollowConfig()),i.setIsDebugCamBound(i.getIsFollowing()))}))},e.setFollowStop=function(){if(this.isFollowing){this.setIsFollowing(!1);var t=this.getPrevFollowConfig();this.mainCamera.stopFollow(),this.mainCamera.pan(t.x,t.y,250,"Power2"),this.mainCamera.zoomTo(t.zoom,0),this.setIsDebugCamBound(this.getIsFollowing())}},e.updateDrag=function(){if(this.isFollowing){var t=this.getWorldPosition(this.tmpFocusGameObj),e=t.x,i=t.y;this.mainCamera.centerOn(e,i)}if(this.getIsDraggable()){var s=this.dragConfig.scrollX+this.dragConfig.x-this.scene.input.x,n=this.dragConfig.scrollY+this.dragConfig.y-this.scene.input.y;this.mainCamera.scrollX=s,this.mainCamera.scrollY=n}},e.getWorldPosition=function(t){for(var e=t.x,i=t.y,s=t.parentContainer;s;)e+=s.x,i+=s.y,s=s.parentContainer;return{x:e,y:i}},e.chckCmdShiftKeyDown=function(){return!!this.getCursorKey().shift.isDown},t}(),w={side:void 0,input:void 0,setSide:function(t){this.side=t},setInput:function(t){this.input=t},signalInput2Side:function(t){this.side&&this.side.signalFromInput(t)}},B=function(){function t(t){w.setInput(this),this.scene,this.size={w:0,h:0},this.cursorKey,this.isPointerMode=!1,this.pointerModeList=["NONE","MOVE","SCALE","ANGLE"],this.pointerMode="NONE",this.pointerModeObjs={pointer:{x:0,y:0},isDown:!1,target:void 0,move:{x:0,y:0},scale:{x:0,y:0},angle:0},this.manager=t,this.isEnable=t.isEnable}var e=t.prototype;return e.create=function(t,e,i,s,n){this.scene=t,this.createDisableRightClick(),this.createSize(t),this.createCursorKey(t),this.createConsoleCmd(t,e),this.createOverEvent(t,e,i),this.createFocusEvent(t,e,i,s),this.createDetailEvent(t,e,i),this.createVisibleEvent(t,e),this.createModeCmdEvent(t),this.createModeEvent(t,e,i,s),this.createEnableCmd(t,n)},e.update=function(){this.updatePointerMode()},e.createDisableRightClick=function(){window.addEventListener("contextmenu",(function(t){t.preventDefault()}))},e.createSize=function(t){this.size.w=t.game.config.width,this.size.h=t.game.config.height},e.getSize=function(){return this.size},e.createMainCamera=function(t){this.mainCamera=t.cameras.main},e.createCursorKey=function(t){this.cursorKey=t.input.keyboard.createCursorKeys()},e.getCursorKey=function(){return this.cursorKey},e.createEnableCmd=function(t,e){var i=this;t.input.keyboard.on("keyup-X",(function(){i.isEnable=!i.isEnable,i.manager.isEnable=i.isEnable,e.setEnable(i.isEnable)}))},e.createConsoleCmd=function(t,e){var i=this;t.input.keyboard.on("keyup-C",(function(){if(i.chckCmdShiftKeyDown()){var t=e.getFocusGameObj();t&&y.call(t)}}))},e.createOverEvent=function(t,e,i){var s=this;t.input.on("gameobjectover",(function(t,n){s.manager.isEnable&&(s.chckGameObjIsFocusOnGUI(n)||(e.setPointerOver(n),e.setOver(n),e.setOverGameObj(n),i.setBasicOverFolder(n)))})),t.input.on("gameobjectout",(function(t,n){s.manager.isEnable&&(s.chckGameObjIsFocusOnGUI(n)||(e.clearPointerOver(n),e.clearOverGameObj(),e.setOverGameObj(void 0),i.setBasicOverFolder()))}))},e.createFocusEvent=function(t,e,i,s){var n=this;t.input.on("gameobjectup",(function(o,r){n.chckCommandKeyReleased(o)&&(n.isPointerMode||n.runFocusLogic(t,r,e,i,s))})),t.input.keyboard.on("keyup-F",(function(){if(n.chckCmdShiftKeyDown()){var o=e.getOverGameObj();n.runFocusLogic(t,o,e,i,s)}}))},e.createDetailEvent=function(t,e,i){var s=this;t.input.keyboard.on("keyup-D",(function(){var t=e.getFocusGameObj();t&&s.chckCmdShiftKeyDown()&&(i.getDetailedStatus()?i.back2Basic(t.guiIdx):i.cross2FocusObj(e.getFocusGameObj()))}))},e.createVisibleEvent=function(t,e){var i=this;t.input.keyboard.on("keyup-V",(function(t,s){var n=e.getFocusGameObj();n&&i.chckCmdShiftKeyDown()&&(n.visible=!n.visible)}))},e.createModeCmdEvent=function(t){t.input.keyboard.on("keyup-Q",this.setModeCmdFunc.bind(this,1)),t.input.keyboard.on("keyup-W",this.setModeCmdFunc.bind(this,2)),t.input.keyboard.on("keyup-E",this.setModeCmdFunc.bind(this,3)),t.input.keyboard.on("keyup-R",this.setModeCmdFunc.bind(this,0))},e.setModeCmdFunc=function(t,e){this.chckCmdShiftKeyDown()&&!this.pointerModeObjs.isDown&&(w.signalInput2Side(t),0===t?this.isPointerMode=!1:(this.isPointerMode=!0,this.pointerMode!==this.pointerModeList[t]&&(this.pointerMode=this.pointerModeList[t])))},e.createModeEvent=function(t,e,i,s){var n=this;t.input.on("pointerdown",(function(t){n.chckCommandKeyDown(t)&&n.isPointerMode&&(n.pointerModeObjs.target=e.getFocusGameObj(),n.pointerModeObjs.target&&(n.pointerModeObjs.isDown=!0,n.sortPointerModeObjs({move:n.setDragStartMoveMode.bind(n,t),scale:n.setDragStartScaleMode.bind(n,t),angle:n.setDragStartAngleMode.bind(n,t)})))})),t.input.on("pointerup",(function(t){n.isPointerMode&&(n.pointerModeObjs.target=void 0,n.pointerModeObjs.isDown=!1,n.sortPointerModeObjs({move:n.setDragEndMoveMode.bind(n),scale:n.setDragEndScaleMode.bind(n),angle:n.setDragEndAngleMode.bind(n)}))}))},e.updatePointerMode=function(){this.isPointerMode&&this.pointerModeObjs.isDown&&this.sortPointerModeObjs({move:this.setDraggingMoveMode.bind(this),scale:this.setDraggingScaleMode.bind(this),angle:this.setDraggingAngleMode.bind(this)})},e.sortPointerModeObjs=function(t){switch(this.pointerMode){case this.pointerModeList[0]:break;case this.pointerModeList[1]:t.move();break;case this.pointerModeList[2]:t.scale();break;case this.pointerModeList[3]:t.angle()}},e.setDragStartMoveMode=function(t){this.setDragStart(t)},e.setDraggingMoveMode=function(){var t=this.pointerModeObjs,e=this.setDragging();t.target.x=t.move.x+e.x,t.target.y=t.move.y+e.y},e.setDragEndMoveMode=function(){this.setDragEnd()},e.setDragStartScaleMode=function(t){this.setDragStart(t),this.pointerModeObjs.scale.x=this.pointerModeObjs.target.scaleX,this.pointerModeObjs.scale.y=this.pointerModeObjs.target.scaleY},e.setDraggingScaleMode=function(){var t=this.pointerModeObjs,e=this.setDragging(),i=t.scale.x+e.x/20,s=t.scale.y-e.y/20,n=Math.round(100*i)/100,o=Math.round(100*s)/100;t.target.scaleX=n,t.target.scaleY=o},e.setDragEndScaleMode=function(){this.setDragEnd(),this.pointerModeObjs.scale.x=0,this.pointerModeObjs.scale.y=0},e.setDragStartAngleMode=function(t){this.setDragStart(t),this.pointerModeObjs.angle=this.pointerModeObjs.target.angle},e.setDraggingAngleMode=function(){var t=this.pointerModeObjs,e=this.setDragging(),i=t.angle+e.y/5;t.target.angle=i.toFixed(0)},e.setDragEndAngleMode=function(){this.setDragEnd(),this.pointerModeObjs.angle=0},e.setDragStart=function(t){var e=this.pointerModeObjs;e.pointer.x=t.x,e.pointer.y=t.y,e.move.x=e.target.x,e.move.y=e.target.y},e.setDragging=function(){var t=this.pointerModeObjs;return{x:this.scene.input.x-t.pointer.x,y:this.scene.input.y-t.pointer.y}},e.setDragEnd=function(){var t=this.pointerModeObjs;t.pointer.x=0,t.pointer.y=0,t.move.x=0,t.move.y=0},e.runFocusLogic=function(t,e,i,s,n){if(this.chckGameObjIsFocusOnGUI(e))this.runFocusLogic_focus_clear(e,i,s,n);else{var o=i.getFocusGameObj();o?this.runFocusLogic_focus_clear(o,i,s,n):this.runFocusLogic_focus_pure(t,e,i,s)}},e.runFocusLogic_focus_clear=function(t,e,i,s){s.setFollowStop(),e.clearFocus(t),e.setFocusGameObj(void 0),e.clearFocusGameObj(),i.back2Basic(t.guiIdx),i.setBasicFocusFolder()},e.runFocusLogic_focus_pure=function(t,e,i,s){e&&(i.setFocusGameObj(e),i.setFocus(e),i.setFocusPerformance(e,s),s.setBasicFocusFolder(e))},e.chckCommandKeyReleased=function(t){return!!(this.getCursorKey().shift.isDown&&t.leftButtonReleased()||!t.rightButtonReleased()&&!t.leftButtonReleased())},e.chckCommandKeyDown=function(t){return!!(this.getCursorKey().shift.isDown&&t.leftButtonDown()||!t.rightButtonDown()&&!t.leftButtonDown())},e.chckCmdShiftKeyDown=function(){return!!this.getCursorKey().shift.isDown},e.chckGameObjIsFocusOnGUI=function(t){return t?t.isFocusOnGUI:null},e.getPointerListNmode=function(){var t={};return t.list=this.pointerModeList,t.now=this.pointerMode,t},t}(),L=function(){function t(t){this.main=t,this.manager=this.main.manager,this.objList=void 0}var e=t.prototype;return e.create=function(t){this.createBasicFolder(t,this.manager.folder.getBasicFolder()),this.createFocusFolder(t)},e.createBasicFolder=function(t,e){var i=this,s={CONSOLE_CLEAR:function(){}};s.SCENE_LIST=m.bind(t),s.DEFAULT_CAM=this.manager.camera.set2defaultZoom.bind(this.manager.camera);var n=void 0,o={};o.x=t.game.config.width,o.y=t.game.config.height;var r=void 0,a=void 0,c={GUIIdx:"NONE",name:"NONE",type:"NONE",texture:"NONE"},h={GUIIdx:"NONE",name:"NONE",type:"NONE",texture:"NONE",GUI_FOCUS_OFF:function(){i.manager.debugBox.clearFocus(),i.manager.folder.setBasicFocusFolder(),i.manager.debugBox.clearFocusGameObj()},GUI_GO_2_DETAIL:function(){i.manager.folder.cross2FocusObj(i.manager.debugBox.getFocusGameObj(),i.objList)}};e.addButton({title:"CONSOLE CLEAR"}).on("click",s.CONSOLE_CLEAR),e.addButton({title:"SCENE_LIST"}).on("click",s.SCENE_LIST),e.addButton({title:"DEFAULT_CAM"}).on("click",s.DEFAULT_CAM),(n=e.addFolder({title:"Pointer"})).addMonitor(t.input,"x"),n.addMonitor(t.input,"y"),n.addInput(t.cameras.main,"zoom",{min:.1,max:10}),(r=e.addFolder({title:"Obj"})).addMonitor(c,"GUIIdx"),r.addMonitor(c,"name"),r.addMonitor(c,"type"),r.addMonitor(c,"texture"),(a=e.addFolder({title:"Focus"})).addMonitor(h,"GUIIdx"),a.addMonitor(h,"name"),a.addMonitor(h,"type"),a.addMonitor(h,"texture"),a.addButton({title:"GUI_FOCUS_OFF"}).on("click",h.GUI_FOCUS_OFF),a.addButton({title:"GUI_GO_TO_DETAIL"}).on("click",h.GUI_GO_2_DETAIL),a.hidden=!0,this.manager.folder.push2FolderList(n,"basic"),this.manager.folder.push2FolderList(r,"basic"),this.manager.folder.push2FolderList(a,"basic")},e.createFocusFolder=function(t){var e,i=t.children;this.objList=E()(e=i.list).call(e,t.sys.updateList._active),this.manager.typeSort.createFocusFolder(this.objList)},e.destroyGUI=function(){this.lib.destroyGUI()},e.tryCatchFlow=function(t){try{t()}catch(e){}},t}(),M=function(){function t(e,i,s){this.scene=e.scene,this.folder=i,this.autoUpdate=s,this.initConsole(e),this.manager={get isEnable(){return t.isEnable},set isEnable(e){t.isEnable=e}},this.manager.typeSort=new O(e.scene),this.manager.folder=new D(this.manager.typeSort,s),this.manager.debugBox=new G,this.manager.camera=new j,this.manager.input=new B(this.manager),this.mainGUI=i,this.GUI=new L(this)}var e=t.prototype;return e.create=function(t){this.manager.typeSort.create(this.manager),this.manager.folder.create(t,this.mainGUI),this.GUI.create(t),this.manager.debugBox.create(t,this.manager.camera),this.manager.camera.create(t,this.manager.debugBox),this.manager.input.create(t,this.manager.debugBox,this.manager.folder,this.manager.camera,this.manager.typeSort)},e.update=function(t,e){this.manager.debugBox.update(t,e),this.manager.camera.update(),this.manager.input.update()},e.initConsole=function(t){!function(t){t.name,t.version;for(var e=t.initConfig,i=(e.css.alpha,e.css.right,e.css.top,e.init.side,t.url,["1px -1px 0 rgb(217,31,38)","2px -2px 0 rgb(226,91,14)","3px -3px 0 rgb(245,221,8)","4px -4px 0 rgb(5,148,68)","5px -5px 0 rgb(2,135,206)","6px -6px 0 rgb(4,77,145)","7px -7px 0 rgb(42,21,113)"]),s=0;s<i.length;s++){s===i.length-1&&";",i[s]}}({name:" PGInspector.js",version:"1.2.1",initConfig:t,url:"https://github.com/SilverTree7622/Phaser3_GUI_Inspector"})},e.setEnable=function(e){void 0===e&&(e=!0),this.manager.typeSort.setEnable(e),t.isEnable=e,e||this.manager.debugBox.clear()},t}();function T(t,e,i){if(void 0!==i)try{t[e]=i}catch(s){}}M.isEnable=!0;var A=function(t,e,i){var s,n=function(t,e){var i={scene:void 0,isCreateAll:!1,css:{alpha:.8,right:0,top:0},init:{focus:null,ignore:null,side:!0}};T(i,"scene",t),"object"===typeof e&&(T(i.css,"alpha",e.alpha),T(i.css,"right",e.right),T(i.css,"top",e.top),T(i.init,"focus",e.focus),T(i.init,"ignore",e.ignore),T(i.init,"side",e.side));return i}(t);return s=function(t,e,i,s){var n=new e(t,i,s);return n.create(t.scene),function(t,e){t.scene.events.on("update",(function(t,i){e.update(t,i)}))}(t,n),n}(n,M,e,i),s};function _(t,e){var i="undefined"!==typeof d()&&f()(t)||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=function(t,e){var i;if(!t)return;if("string"===typeof t)return U(t,e);var s=c()(i=Object.prototype.toString.call(t)).call(i,8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return u()(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return U(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}var N=function(){function t(t,e,i){var s,o,a=this;if(this.game=t,this.sceneList=t.scene.scenes,this.folder=e,this.selectScene=e.addBlade({view:"list",label:"scene",options:n()(s=this.sceneList).call(s,(function(t){return{text:t.scene.key,value:t.scene.key}})),value:""}),this.autoUpdate=i,this.createSceneFolder(),this.selectScene.on("change",(function(t){a.openScene(t.value)})),e.selected=!0,this.createListener(),this.listActive=r()(o=this.sceneList).call(o,(function(t){return t.scene.isActive()})),this.listActive.length>0){var c,h=r()(c=this.listActive).call(c,(function(t){return"DASHBOARD_SCENE"==t.scene.key})).length>0;this.selectScene.value=h?"DASHBOARD_SCENE":this.listActive[this.listActive.length-1].scene.key}}var e=t.prototype;return e.createSceneFolder=function(){var t,e=this;n()(t=this.sceneList).call(t,(function(t){var i=e.folder.addFolder({title:t.scene.key,expanded:!0});t.GUIFolder=i}))},e.openScene=function(t){for(var e,i=_(this.sceneList);!(e=i()).done;){var s=e.value;s.scene.key===t?(s.GUIFolder&&(s.GUIFolder.hidden=!1),!s.GUIAction&&s.scene.isVisible()&&(s.GUIAction=A(s,s.GUIFolder,this.autoUpdate))):s.GUIFolder&&(s.GUIFolder.hidden=!0)}this.selectScene.value=t},e.handleOpenSceneEvent=function(t){this.selectScene.value=t.scene.key,this.listActive.push(t)},e.handleCloseSceneEvent=function(t){var e;this.listActive=r()(e=this.listActive).call(e,(function(e){return e.scene.key!=t.scene.key})),0!=this.listActive.length&&(this.selectScene.value=this.listActive[this.listActive.length-1].scene.key)},e.createListener=function(){for(var t,e=_(this.sceneList);!(t=e()).done;){var i=t.value;i.events.on("create",this.handleOpenSceneEvent.bind(this,i)),i.events.on("wake",this.handleOpenSceneEvent.bind(this,i)),i.events.on("start",this.handleOpenSceneEvent.bind(this,i)),i.events.on("sleep",this.handleCloseSceneEvent.bind(this,i)),i.events.on("shutdown",this.handleCloseSceneEvent.bind(this,i)),i.events.on("destroy",this.handleCloseSceneEvent.bind(this,i))}},e.setEnable=function(t){void 0===t&&(t=!0);for(var e,i=_(this.sceneList);!(e=i()).done;){var s=e.value;s.GUIAction&&s.GUIAction.setEnable(t)}},t}()}}]);